# -----------------------------------------------------------------------------
# 1. FONTS
# -----------------------------------------------------------------------------
font_family      family="JetBrainsMono Nerd Font Mono"
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size        12.0

# Better underline rendering for Neovim
modify_font underline_position 4
modify_font underline_thickness 150%
disable_ligatures never

# -----------------------------------------------------------------------------
# 2. THEME & VISUALS
# -----------------------------------------------------------------------------
include current-theme.conf

# Transparency & Blur
background_opacity 0.8
background_blur    64
background_tint    0.9

# Aesthetics (The "Clean" Look)
window_padding_width 4
hide_window_decorations titlebar-only
tab_bar_style powerline

# -----------------------------------------------------------------------------
# 3. PERFORMANCE (Input Latency Optimization)
# -----------------------------------------------------------------------------
repaint_delay    8    # ~120fps target
input_delay      0    # Remove artificial input delay
sync_to_monitor  no   # Disable VSync for lowest latency

# -----------------------------------------------------------------------------
# 4. SHELL & STARTUP (Zellij)
# -----------------------------------------------------------------------------
# Robust Auto-Start: Launches Zellij if installed, otherwise normal Zsh
shell zsh --login -c "if command -v zellij > /dev/null 2>&1; then zellij -l welcome; else zsh; fi"

# Shell Integration
shell_integration enabled no-title

# -----------------------------------------------------------------------------
# 5. MOUSE & CURSOR
# -----------------------------------------------------------------------------
# Hide mouse immediately when typing (Focus mode)
mouse_hide_wait -1.0

# Cursor style
cursor_shape underline
cursor_blink_interval -1

# -----------------------------------------------------------------------------
# 6. MACOS TWEAKS
# -----------------------------------------------------------------------------
# Critical for Zellij/Neovim (Alt key behavior)
macos_option_as_alt yes

# Standard Mac behavior
macos_quit_when_last_window_closed no
macos_window_resizable yes

# -----------------------------------------------------------------------------
# 7. ADVANCED / SCRIPTING
# -----------------------------------------------------------------------------
# Enable remote control for your scripts (socket-only is secure)
allow_remote_control socket-only
listen_on unix:/tmp/mykitty

# Silence the bell
enable_audio_bell no

# -----------------------------------------------------------------------------
# 8. KEYBINDINGS
# -----------------------------------------------------------------------------
# Note: Ctrl+t is REMOVED to allow Zellij Tab Mode to work.

# Reload Config (Cmd+Ctrl+,)
map cmd+ctrl+, load_config_file

# Optional: Map Cmd+t to your fuzzy finder script (instead of Ctrl+t)
# map cmd+t ./Users/v01d/.dotfiles/tmux/scripts/fuzzy_new_window.sh
